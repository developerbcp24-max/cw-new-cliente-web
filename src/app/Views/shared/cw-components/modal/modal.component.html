<!-- modal.component.html -->
<div (click)="onContainerClicked($event)" (onclose)="handleClose()"
  class="fixed inset-0 z-50 flex items-center justify-center p-2 transition-all duration-300 ease-out"
  tabindex="-1"
  [ngClass]="{
    'opacity-100 visible': visibleAnimate,
    'opacity-0 invisible': !visibleAnimate
  }"
  [ngStyle]="{
    display: visible ? 'flex' : 'none',
    backgroundColor: 'rgba(0, 0, 0, 0.5)'
  }">

  <!-- Modal Content - AQUÃ VA EL SCROLL -->
  <div class="relative transition-all duration-300 ease-out transform my-auto overflow-y-auto max-h-[90vh]"
    [ngClass]="sizeClass"
    [class.scale-100]="visibleAnimate"
    [class.scale-95]="!visibleAnimate"
    (click)="$event.stopPropagation()">

    <div [ngClass]="getModalContentClasses()">

      <!-- Modal Header - FIJO -->
      <div [ngClass]="getModalHeaderClasses()" class="sticky top-0 bg-white z-10">
        <div class="flex items-start justify-between">
          <!-- Close Button -->
          <button type="button" (click)="handleClose()" aria-label="Close"
            class="absolute top-4 right-4 w-9 h-9 flex items-center justify-center
              rounded-full border border-gray-300 bg-white
              text-gray-700 hover:text-[#19b3da] hover:border-[#2f4b72]
              shadow-sm hover:shadow-md
              transition-all duration-200 ease-out
              focus:outline-none focus:ring-2 focus:ring-[#153F7B]/50">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
          <!-- Title -->
          <div class="w-full pr-10">
            <h4 class="text-xl font-semibold text-gray-800 text-center" id="myModalLabel">
              <ng-content select=".app-modal-header"></ng-content>
            </h4>
          </div>
        </div>
      </div>

      <!-- Modal Body - CONTENIDO CON SCROLL -->
      <div [ngClass]="getModalBodyClasses()">
        <ng-content select=".app-modal-body"></ng-content>
      </div>

      <!-- Modal Footer - FIJO -->
      <div [ngClass]="getModalFooterClasses()" class="sticky bottom-0 bg-white z-10">
        <ng-content select=".app-modal-footer"></ng-content>
      </div>

    </div>
  </div>
</div>
