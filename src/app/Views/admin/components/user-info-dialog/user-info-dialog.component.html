<!-- Container principal -->
<div class="p-6 bg-white">
  <!-- Header -->
  <div class="flex justify-between items-center mb-6 pb-4 border-b border-gray-300">
    <h2 class="text-base font-semibold text-gray-800 tracking-wide uppercase">
      INFORMACIÓN DEL USUARIO AUTORIZADOR
    </h2>
    <button mat-icon-button class="text-gray-500 hover:text-gray-700 -mr-2" (click)="dialogRef.close()">
      <mat-icon class="text-xl">close</mat-icon>
    </button>
  </div>

  <!-- User Info Form -->
  <div class="mb-8">
    <!-- Row 1: Usuario y Email -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-6">
      <!-- Usuario -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Usuario</label>
        <div class="w-full">
          <input
            class="w-full px-0 py-2 text-gray-900 bg-transparent border-0 border-b border-gray-300 focus:outline-none focus:border-blue-500 text-sm"
            [value]="data.user.name + ' ' + data.user.lastNames" readonly>
        </div>
      </div>

      <!-- Email -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">E-mail</label>
        <div class="w-full">
          <input
            class="w-full px-0 py-2 text-gray-900 bg-transparent border-0 border-b border-gray-300 focus:outline-none focus:border-blue-500 text-sm"
            [value]="data.user.email" readonly>
        </div>
      </div>
    </div>

    <!-- Row 2: Document fields -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
      <!-- Nro. Documento -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Nro. Documento</label>
        <div class="w-full">
          <input
            class="w-full px-0 py-2 text-gray-900 bg-transparent border-0 border-b border-gray-300 focus:outline-none focus:border-blue-500 text-sm"
            [value]="data.user.documentNumber" readonly>
        </div>
      </div>

      <!-- Complemento -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Complemento</label>
        <div class="w-full">
          <input
            class="w-full px-0 py-2 text-gray-900 bg-transparent border-0 border-b border-gray-300 focus:outline-none focus:border-blue-500 text-sm"
            [value]="data.user.complement || 'XX'" readonly>
        </div>
      </div>

      <!-- Extensión -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Extensión</label>
        <div class="w-full">
          <input
            class="w-full px-0 py-2 text-gray-900 bg-transparent border-0 border-b border-gray-300 focus:outline-none focus:border-blue-500 text-sm"
            [value]="data.user.extension || 'QR'" readonly>
        </div>
      </div>

      <!-- Celular -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Celular</label>
        <div class="w-full">
          <input
            class="w-full px-0 py-2 text-gray-900 bg-transparent border-0 border-b border-gray-300 focus:outline-none focus:border-blue-500 text-sm"
            [value]="data.user.phone" readonly>
        </div>
      </div>
    </div>
  </div>

  <!-- Accounts Table Section -->
  <div class="mb-8">
    <div class="grid grid-cols-4 gap-4 mb-4">
      <!-- Headers -->
      <div class="text-sm font-medium text-gray-700">Cuentas</div>
      <div class="text-sm font-medium text-gray-700 text-center">Consultor</div>
      <div class="text-sm font-medium text-gray-700 text-center">Preparador</div>
      <div class="text-sm font-medium text-gray-700 text-center">Autorizador</div>
    </div>

    <!-- Account Rows -->
    <div *ngFor="let account of data.selectedAccounts; let i = index" class="grid grid-cols-4 gap-4 py-3"
      [class]="i !== data.selectedAccounts.length - 1 ? 'border-b border-gray-200' : ''">

      <!-- Account Number -->
      <div class="text-sm text-gray-900">
        {{ account.noAccount | obfuscateAccountNumber | formatAccount }}
      </div>

      <!-- Consultor Checkbox -->
      <div class="flex justify-center">
        <div class="w-4 h-4 rounded-sm flex items-center justify-center relative"
          [ngClass]="isConsultant(account) ? 'bg-[#32335C] opacity-100' : 'bg-gray-400 bg-opacity-50'">
          <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
      </div>

      <!-- Preparador Checkbox -->
      <div class="flex justify-center">
        <div class="w-4 h-4 rounded-sm flex items-center justify-center"
          [ngClass]="isPreparer(account) ? 'bg-[#32335C] opacity-100' : 'bg-gray-400 bg-opacity-50'">
          <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
      </div>

      <!-- Autorizador Checkbox -->
      <div class="flex justify-center">
        <div class="w-4 h-4 rounded-sm flex items-center justify-center"
          [ngClass]="isAuthorizer(account) ? 'bg-[#32335C] opacity-100' : 'bg-gray-400 bg-opacity-50'">
          <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="flex justify-end space-x-3 pt-4">
    <button class="px-6 py-2 text-gray-400 text-sm font-medium rounded-md border border-gray-300 bg-gray-50" disabled>
      Borrar
    </button>

    <button class="px-6 py-2 text-gray-400 text-sm font-medium rounded-md border border-gray-300 bg-gray-50" disabled>
      Editar
    </button>

    <button
      class="px-6 py-2 bg-[#153F7B] text-white text-sm font-medium rounded-md hover:bg-[#071f41] transition-colors"
      (click)="dialogRef.close()">
      Ok
    </button>
  </div>
</div>
