<div class="row" *ngIf="existFavorites">
    <div class="col-md-6">
      <div class="historical__box haberes__previous-form">
        <label class="historical__label">Selecciona un pago guardado</label>
        <form name="favoriteForm" #favoriteForm="ngForm" novalidate autocomplete="off">
          <div class="form-group">
            <select class="historical__select-account input-simple" name="favoriteTransaction" [disabled]="disabled"
              [(ngModel)]="favoriteNameNus" (change)="handleFavoriteById(favoriteNameNus)">
              <option [value]="undefined" disabled>Seleccione una opción</option>
              <option *ngFor="let favorite of listFavorite" [ngValue]="favorite">{{favorite.name}}</option>
            </select>
          </div>
        </form>
        <div *ngIf="selectedFavorite">
          <button class="button__secondary transferencia-ext__button-secondary" [disabled]="disabled"
            (click)="handleRemove()"><em class="fas fa-trash"></em>
            ELIMINAR</button>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="transferencias__card helpers--padding-top-B" *ngIf="selectedFavorite">
        <div class="home__card__item">
          <p class="home__card__item__small-title">NUS</p>
          <p class="home__card__item__small-value">{{selectedFavorite.nus}}</p>
        </div>
        <div class="home__card__item">
          <p class="home__card__item__small-title">N° de Factura</p>
          <p class="home__card__item__small-value">{{selectedFavorite.accountNumber}}</p>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 ">
      <div class="historical__box haberes__previous-form">
        <form name="elfecForm" novalidate #elfecForm="ngForm" autocomplete="off">
          <fieldset [disabled]="disabled"><legend></legend><br>
            <div class="form-group">
              <label class="transferencias__label">NUS</label>
              <div class="transferencias__container-input-btn">
                <input class="input-simple" type="text" name="nus" [(ngModel)]="getDebtRequest.nus" required
                  appOnlyInteger maxlength="10" #nus="ngModel" (ngModelChange)="handleChangeInput()">
                <app-show-errors [control]="nus"></app-show-errors>
              </div>
              <label class="transferencias__label">N° de Factura</label>
              <div class="transferencias__container-input-btn">
                <input class="input-simple" type="text" name="accountNumber" [(ngModel)]="getDebtRequest.accountNumber"
                  required appOnlyInteger maxlength="20" #accountNumber="ngModel" (ngModelChange)="handleChangeInput()">
                <app-show-errors [control]="accountNumber"></app-show-errors>
              </div>
            </div>
          </fieldset>
        </form>
        <div>
          <div class="transferencias__card_elfec" *ngIf="favorite.isFavorite">
            <p class="home__card__item__small-title">Pago Favorito : <strong class="home__card__item__small-value">{{favorite.name}}
              </strong></p>
          </div>
          <button *ngIf="!favorite.isFavorite" class="button__secondary transferencia-ext__button-secondary"
            [disabled]="disabled ? disabled : disabledFav" (click)="handleShowFavorite()">GUARDAR COMO FAVORITO</button>
          <button *ngIf="favorite.isFavorite" class="button__secondary transferencia-ext__button-secondary"
            [disabled]="disabled ? disabled : disabledFav" (click)="handleCancelFavorite()">CANCELAR FAVORITO</button>
          <button class="button__secondary transferencia-ext__button-secondary" [disabled]="disabled"
            (click)="handleGetDebts();">BUSCAR</button>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="transferencias__card helpers--padding-top-B" *ngIf="detail?.clientName">
        <div class="home__card__item">
          <p class="home__card__item__small-title">Titular</p>
          <p class="home__card__item__small-value">{{detail.clientName}}</p>
        </div>
        <div class="home__card__item" *ngIf="detail?.totalConsumption">
          <p class="home__card__item__small-title">Total Consumo</p>
          <p class="home__card__item__small-value">{{detail.totalConsumption}} BOLIVIANOS</p>
        </div>
      </div>
      <div class="transferencias__card helpers--padding-top-B" *ngIf="showMessageError">
        <p class="home__card__item__small-value">El número de factura <strong
            class="home__card__item__small-title">{{getDebtRequest.accountNumber}} </strong> no tiene deudas pendientes.</p>
      </div>
    </div>
  </div>

  <app-modal [visible]="showSaveFavoriteForm" (onClose)="showSaveFavoriteForm=false" [size]="'md'">
    <div class="app-modal-header col-md-12 col-sm-12">
      Guardar operación como favorito
    </div>
    <div class="app-modal-body col-md-12 col-sm-12">
      <form name="saveFavoriteForm" #saveFavoriteForm="ngForm" novalidate autocomplete="off">
        <input type="text" name="favoriteName" class="transferencias__select-account-large input-simple"
          placeholder="Nombre del favorito" [(ngModel)]="favorite.name" required #favoriteName="ngModel" />
        <app-show-errors [control]="favoriteName"></app-show-errors>
      </form>
    </div>
    <div class="app-modal-footer col-md-12 col-sm-12">
      <div class="row modal__container-button">
        <div class="offset-md-3 col-md-6 col-xs-12">
          <button class="button__principal modal__button" (click)="handleSaveFavorite()">ACEPTAR</button>
        </div>
      </div>
      <div class="row modal__cancelar">
        <div class="col-md-12 col-xs-12">
          <a (click)="handleCancelFavorite()" class="link-cancel-modal">CANCELAR</a>
        </div>
      </div>
    </div>
  </app-modal>
